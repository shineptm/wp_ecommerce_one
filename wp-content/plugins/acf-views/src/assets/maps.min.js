class Map{constructor(e){this.element=e,this.map=null,this.mapMarkers=[]}readMarkers(){this.element.querySelectorAll(".acf-views__map-marker").forEach((e=>{let a=e.dataset.hasOwnProperty("lat")?e.dataset.lat:0,t=e.dataset.hasOwnProperty("lng")?e.dataset.lng:0;this.mapMarkers.push({lat:parseFloat(a),lng:parseFloat(t)}),e.remove()}))}createMap(){let e={zoom:parseInt(this.element.dataset.hasOwnProperty("zoom")?this.element.dataset.zoom:16),mapTypeId:window.google.maps.MapTypeId.ROADMAP};this.map=new window.google.maps.Map(this.element,e)}createMarkers(){this.mapMarkers.forEach((e=>{new window.google.maps.Marker({position:e,map:this.map})}))}centerMap(){let e=new window.google.maps.LatLngBounds;this.mapMarkers.forEach((a=>{e.extend({lat:a.lat,lng:a.lng})})),1===this.mapMarkers.length?this.map.setCenter(e.getCenter()):this.map.fitBounds(e)}init(){window.hasOwnProperty("google")&&window.google.hasOwnProperty("maps")&&window.google.maps.hasOwnProperty("Map")&&window.google.maps.hasOwnProperty("Marker")&&window.google.maps.hasOwnProperty("LatLngBounds")&&window.google.maps.hasOwnProperty("MapTypeId")&&window.google.maps.MapTypeId.hasOwnProperty("ROADMAP")?(this.readMarkers(),this.createMap(),this.createMarkers(),this.centerMap()):console.log("ACF Views : Google maps isn't available")}}class Maps{constructor(){this.isMapsLoaded=!1,this.mapsToInit=[],window.acfViewsGoogleMaps=this.mapsLoadedCallback.bind(this),"loading"!==document.readyState?this.setup():window.addEventListener("DOMContentLoaded",this.setup.bind(this))}setup(){new MutationObserver(((e,a)=>{for(let a of e)a.addedNodes.forEach((e=>{this.addListeners(e)}))})).observe(document.body,{childList:!0,subtree:!0}),this.addListeners(document.body)}mapsLoadedCallback(){this.isMapsLoaded=!0,this.mapsToInit.forEach((e=>{e.init()})),this.mapsToInit=[]}addListeners(e){Node.ELEMENT_NODE===e.nodeType&&e.querySelectorAll(".acf-views__map").forEach((e=>{let a=new Map(e);this.isMapsLoaded?a.init():this.mapsToInit.push(a)}))}}new Maps;